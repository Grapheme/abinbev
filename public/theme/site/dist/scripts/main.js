$(document).ready(function(){$("fotorama").fotorama(),$(".fix").hover(function(){$(".fix-2").addClass("smoke"),$(".fix-2.smoke").hover(function(){$(".responsibility-page-head").addClass("kek")})}),$("a.product").fancybox({width:643,height:435,autoSize:!1,afterShow:function(){$(".about-product").mCustomScrollbar()}}),$.fn.smart_map=function(a){$(this).each(function(){function t(a){var t=a.pageX-c.offset().left,n=a.pageY-c.offset().top;if(r.find(".js-admin-dot").length)r.find(".js-admin-dot").css({left:t,top:n});else{var s={radius:$(".js-admin-map-radius").val(),posY:n,posX:t},i=d(0,s,!0);r.find(".js-map-block").append(i)}$(".js-admin-map-x").val(t),$(".js-admin-map-y").val(n)}function n(){var a=parseInt($(".js-admin-map-x").val()),t=parseInt($(".js-admin-map-y").val());r.find(".js-admin-dot").css({left:a,top:t})}function s(){{var a=parseInt($(".js-admin-map-x").val()),t=parseInt($(".js-admin-map-y").val());parseInt($(".js-admin-map-radius").val())}r.find(".js-admin-dot").remove();var n={radius:parseInt($(".js-admin-map-radius").val()),posY:t,posX:a},s=d(0,n,!0);r.find(".js-map-block").append(s)}function i(t){var n;n="<"==t?-1:1;var s=f+n;-1==s&&(s=a.length-1),s==a.length&&(s=0),o(s)}function o(t){var n=a[t],s=n.items,i=n.name,o=n.posX,e=n.posY,d="";$.each(s,function(a,t){d+="<li>"+t}),p.find(".js-desc-title").text(i),p.find(".js-desc-items").html(d),setTimeout(function(){p.find(".js-desc-items").customScrollbar()},1);var m=c.width()/4-o,r=c.height()/2-e,l=transform("translateX("+m+"px) translateY("+r+"px)");c.attr("style",l),$(".js-map-dot[data-id="+t+"]").addClass("active").siblings().removeClass("active"),p.show(),f=parseInt(t)}function e(){c.attr("style",transform("translateX(0px) translateY(0px)")),$(".js-map-dot").removeClass("active"),p.hide()}function d(a,t,n){11*t.radius;if(n)var s=" js-admin-dot";else var s="";var i='<a href="#" class="map-dot js-map-dot'+s+'" style="top: '+t.posY+"px; left: "+t.posX+'px;" data-id="'+a+'"></a>';return i}function m(t,n,s){var i="";$.each(a,function(a,t){var n=d(a,t,!0);i+=n}),c.html(i),p.hide(),$(window).width()<=768&&o(0)}var r=$(this),c=r.find(".js-map-block"),p=r.find(".js-map-desc"),f=!1;r.hasClass("js-admin-map")?($(document).on("click",".js-map-dot",function(){return!1}),$(document).on("click",".js-map-block",function(a){t(a)}),$(document).on("input",".js-admin-map-x, .js-admin-map-y",function(){n()}),$(document).on("change",".js-admin-map-radius",function(){s()})):($(document).on("click",".js-map-dot",function(){var a=$(this).attr("data-id");return o(a),!1}),$(document).on("click",".js-desc-close",function(){return e(),!1}),$(document).on("click",".js-map-control",function(){return i($(this).attr("data-direction")),!1})),m()})},$(".js-admin-map").smart_map([{posX:200,posY:200}]),$(".js-client-map").smart_map([{posX:200,posY:200}])});