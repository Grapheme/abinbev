$(document).ready(function(){function a(){{var a={center:new google.maps.LatLng(47.2249488,39.7239244),zoom:17,mapTypeId:google.maps.MapTypeId.ROADMAP,draggable:!0,zoomControl:!0,scrollwheel:!1,disableDoubleClickZoom:!0,navigationControl:!0,disableDefaultUI:!1};new google.maps.Map(document.getElementById("google-map"),a),new google.maps.LatLng(47.2248231,39.7273844)}}$("fotorama").fotorama(),$("a.product").fancybox({width:643,height:435,autoSize:!1,afterShow:function(){$(".about-product").mCustomScrollbar()}}),$(".institutions-list").mCustomScrollbar(),$(".fix").hover(function(){$(".fix-2").addClass("smoke"),$(".fix-2.smoke").hover(function(){$(".responsibility-page-head").addClass("kek")})}),$.fn.smart_map=function(a){$(this).each(function(){function n(a){var n=a.pageX-c.offset().left,t=a.pageY-c.offset().top;if(m.find(".js-admin-dot").length)m.find(".js-admin-dot").css({left:n,top:t});else{var s={radius:$(".js-admin-map-radius").val(),posY:t,posX:n},o=p(0,s,!0);m.find(".js-map-block").append(o)}$(".js-admin-map-x").val(n),$(".js-admin-map-y").val(t)}function t(){var a=parseInt($(".js-admin-map-x").val()),n=parseInt($(".js-admin-map-y").val());m.find(".js-admin-dot").css({left:a,top:n})}function s(){{var a=parseInt($(".js-admin-map-x").val()),n=parseInt($(".js-admin-map-y").val());parseInt($(".js-admin-map-radius").val())}m.find(".js-admin-dot").remove();var t={radius:parseInt($(".js-admin-map-radius").val()),posY:n,posX:a},s=p(0,t,!0);m.find(".js-map-block").append(s)}function o(n){var t;t="<"==n?-1:1;var s=r+t;-1==s&&(s=a.length-1),s==a.length&&(s=0),i(s)}function i(n){var t=a[n],s=t.items,o=t.name,i=t.posX,e=t.posY,p="";$.each(s,function(a,n){p+="<li>"+n}),l.find(".js-desc-title").text(o),l.find(".js-desc-items").html(p),setTimeout(function(){l.find(".js-desc-items").customScrollbar()},1);var d=c.width()/4-i,m=c.height()/2-e,u=transform("translateX("+d+"px) translateY("+m+"px)");c.attr("style",u),$(".js-map-dot[data-id="+n+"]").addClass("active").siblings().removeClass("active"),l.show(),r=parseInt(n)}function e(){c.attr("style",transform("translateX(0px) translateY(0px)")),$(".js-map-dot").removeClass("active"),l.hide()}function p(a,n,t){11*n.radius;if(t)var s=" js-admin-dot";else var s="";var o='<a href="#" class="map-dot js-map-dot'+s+'" style="top: '+n.posY+"px; left: "+n.posX+'px;" data-id="'+a+'"></a>';return o}function d(n,t,s){var o="";$.each(a,function(a,n){var t=p(a,n,!0);o+=t}),c.html(o),l.hide(),$(window).width()<=768&&i(0)}var m=$(this),c=m.find(".js-map-block"),l=m.find(".js-map-desc"),r=!1;m.hasClass("js-admin-map")?($(document).on("click",".js-map-dot",function(){return!1}),$(document).on("click",".js-map-block",function(a){n(a)}),$(document).on("input",".js-admin-map-x, .js-admin-map-y",function(){t()}),$(document).on("change",".js-admin-map-radius",function(){s()})):($(document).on("click",".js-map-dot",function(){var a=$(this).attr("data-id");return i(a),!1}),$(document).on("click",".js-desc-close",function(){return e(),!1}),$(document).on("click",".js-map-control",function(){return o($(this).attr("data-direction")),!1})),d()})},$(".js-admin-map").smart_map([{posX:200,posY:200}]),$(".js-client-map").smart_map([{posX:200,posY:200}]),google.maps.event.addDomListener(window,"load",a),$.each(institutions,function(a,n){$("#city").append('<option value="'+n.city+'">'+n.city+"</option>"),$("#cuisine").append('<option value="'+n.cuisine+'">'+n.cuisine+"</option>"),$("#type").append('<option value="'+n.type+'">'+n.type+"</option>"),$(".institutions-list .institutions").append('<li><span class="name">'+n.name+'</span><span class="type">'+n.type+'</span><span class="cuisine">'+n.cuisine+'</span><span class="adress">'+n.adress+"</span></li>")})});