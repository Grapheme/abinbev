$(document).ready(function(){$("fotorama").fotorama(),$(".fix").hover(function(){$(".fix-2").addClass("smoke"),$(".fix-2.smoke").hover(function(){$(".responsibility-page-head").addClass("kek")})}),$("a.product").fancybox({width:643,height:435,autoSize:!1,afterShow:function(){$(".about-product").mCustomScrollbar()}}),$.fn.smart_map=function(a){$(this).each(function(){function t(a){var t=a.pageX-p.offset().left,n=a.pageY-p.offset().top;if(m.find(".js-admin-dot").length)m.find(".js-admin-dot").css({left:t,top:n});else{var s={radius:$(".js-admin-map-radius").val(),posY:n,posX:t},i=e(0,s,!0);m.find(".js-map-block").append(i)}$(".js-admin-map-x").val(t),$(".js-admin-map-y").val(n)}function n(){var a=parseInt($(".js-admin-map-x").val()),t=parseInt($(".js-admin-map-y").val());m.find(".js-admin-dot").css({left:a,top:t})}function s(){{var a=parseInt($(".js-admin-map-x").val()),t=parseInt($(".js-admin-map-y").val());parseInt($(".js-admin-map-radius").val())}m.find(".js-admin-dot").remove();var n={radius:parseInt($(".js-admin-map-radius").val()),posY:t,posX:a},s=e(0,n,!0);m.find(".js-map-block").append(s)}function i(t){var n;n="<"==t?-1:1;var s=f+n;-1==s&&(s=a.length-1),s==a.length&&(s=0),o(s)}function o(t){var n=a[t],s=n.items,i=n.name,o=n.posX,d=n.posY,e="";$.each(s,function(a,t){e+="<li>"+t}),c.find(".js-desc-title").text(i),c.find(".js-desc-items").html(e),setTimeout(function(){c.find(".js-desc-items").customScrollbar()},1);var r=p.width()/4-o,m=p.height()/2-d,l=transform("translateX("+r+"px) translateY("+m+"px)");p.attr("style",l),$(".js-map-dot[data-id="+t+"]").addClass("active").siblings().removeClass("active"),c.show(),f=parseInt(t)}function d(){p.attr("style",transform("translateX(0px) translateY(0px)")),$(".js-map-dot").removeClass("active"),c.hide()}function e(a,t,n){var s=11*t.radius,i="margin-top: -"+s/2+"px; margin-left: -"+s/2+"px; width: "+s+"px; height: "+s+"px; border-radius: "+s+"px; ";if(n)var o=" js-admin-dot";else var o="";var d='<a href="#" class="map-dot js-map-dot'+o+'" style="top: '+t.posY+"px; left: "+t.posX+'px;" data-id="'+a+'"><i class="map-rad" style="'+i+'"></i></a>';return d}function r(t,n,s){var i="";$.each(a,function(a,t){var n=e(a,t,!0);i+=n}),p.html(i),c.hide(),$(window).width()<=768&&o(0)}var m=$(this),p=m.find(".js-map-block"),c=m.find(".js-map-desc"),f=!1;m.hasClass("js-admin-map")?($(document).on("click",".js-map-dot",function(){return!1}),$(document).on("click",".js-map-block",function(a){t(a)}),$(document).on("input",".js-admin-map-x, .js-admin-map-y",function(){n()}),$(document).on("change",".js-admin-map-radius",function(){s()})):($(document).on("click",".js-map-dot",function(){var a=$(this).attr("data-id");return o(a),!1}),$(document).on("click",".js-desc-close",function(){return d(),!1}),$(document).on("click",".js-map-control",function(){return i($(this).attr("data-direction")),!1})),r()})},$(".js-admin-map").smart_map([{posX:200,posY:200,radius:8}])});